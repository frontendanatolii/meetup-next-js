{"ast":null,"code":"import { MongoClient } from 'mongodb';\n\nasync function handler(req, res) {\n  if (req.method === 'POST') {\n    try {\n      const data = req.body;\n      const uri = 'mongodb+srv://probro1235:password@cluster0-xahr1.mongodb.net';\n      const client = await MongoClient.connect(uri);\n      const collection = client.db('meetup').collection('meetups');\n      const result = await collection.insertOne(data);\n      console.log(result);\n      client.close();\n      res.status(201).json({\n        message: 'Meetup inserted!'\n      });\n    } catch (err) {\n      console.log(err);\n    }\n  }\n}\n\nexport default handler;","map":{"version":3,"sources":["D:/incode/meetup-app-next-js/pages/api/new-meetup.js"],"names":["MongoClient","handler","req","res","method","data","body","uri","client","connect","collection","db","result","insertOne","console","log","close","status","json","message","err"],"mappings":"AAAA,SAASA,WAAT,QAA4B,SAA5B;;AAEA,eAAeC,OAAf,CAAuBC,GAAvB,EAA4BC,GAA5B,EAAiC;AAC/B,MAAID,GAAG,CAACE,MAAJ,KAAe,MAAnB,EAA2B;AAEzB,QAAI;AACF,YAAMC,IAAI,GAAGH,GAAG,CAACI,IAAjB;AAEA,YAAMC,GAAG,GACL,8DADJ;AAGA,YAAMC,MAAM,GAAG,MAAMR,WAAW,CAACS,OAAZ,CAAoBF,GAApB,CAArB;AAEA,YAAMG,UAAU,GAAGF,MAAM,CAACG,EAAP,CAAU,QAAV,EAAoBD,UAApB,CAA+B,SAA/B,CAAnB;AAEA,YAAME,MAAM,GAAG,MAAMF,UAAU,CAACG,SAAX,CAAqBR,IAArB,CAArB;AAEAS,MAAAA,OAAO,CAACC,GAAR,CAAYH,MAAZ;AAEAJ,MAAAA,MAAM,CAACQ,KAAP;AAEAb,MAAAA,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,QAAAA,OAAO,EAAE;AAAX,OAArB;AACD,KAjBD,CAiBE,OAAOC,GAAP,EAAY;AACZN,MAAAA,OAAO,CAACC,GAAR,CAAYK,GAAZ;AACD;AACF;AACF;;AAED,eAAenB,OAAf","sourcesContent":["import { MongoClient } from 'mongodb';\n \nasync function handler(req, res) {\n  if (req.method === 'POST') {\n\n    try {\n      const data = req.body;\n \n      const uri =\n          'mongodb+srv://probro1235:password@cluster0-xahr1.mongodb.net';\n     \n      const client = await MongoClient.connect(uri);\n     \n      const collection = client.db('meetup').collection('meetups');\n     \n      const result = await collection.insertOne(data);\n\n      console.log(result);\n     \n      client.close();\n     \n      res.status(201).json({ message: 'Meetup inserted!' });\n    } catch (err) {\n      console.log(err);\n    }\n  }\n}\n \nexport default handler;"]},"metadata":{},"sourceType":"module"}